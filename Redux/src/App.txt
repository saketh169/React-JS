// App.js (Redux Toolkit Demo)
import React from "react";
import { Provider, useSelector, useDispatch } from "react-redux";
import { configureStore, createSlice } from "@reduxjs/toolkit";

const counterSlice = createSlice({
  name: "counter",
  initialState: { count: 0 },
  reducers: {
    increment: state => { state.count += 1; },
  },
});

const store = configureStore({ reducer: { counter: counterSlice.reducer } });

const ChildA = React.memo(() => {
  const count = useSelector(state => state.counter.count);
  console.log("Child A re-rendered");
  return <p>Child A Count: {count}</p>;
});

const ChildB = React.memo(() => {
  const dispatch = useDispatch();
  console.log("Child B re-rendered");
  return (
    <button onClick={() => dispatch(counterSlice.actions.increment())}>
      Increment
    </button>
  );
});

function App() {
  return (
    <Provider store={store}>
      <h2>Redux Toolkit Demo</h2>
      <ChildA />
      <ChildB />
    </Provider>
  );
}

export default App;